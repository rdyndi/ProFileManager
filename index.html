<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ProFile Manager</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
            colors: {
              primary: {
                50: "#eff6ff",
                100: "#dbeafe",
                500: "#3b82f6",
                600: "#2563eb",
                700: "#1d4ed8",
                800: "#1e40af",
                900: "#1e3a8a",
              },
            },
          },
        },
      };
    </script>

    <!-- Print -->
    <style>
      @media print {
        .no-print {
          display: none !important;
        }
        .print-only {
          display: block !important;
        }
        body {
          background: white;
        }
        @page {
          margin: 16mm;
        }
      }
      .print-only {
        display: none;
      }
    </style>

    <!-- Import map -->
    <script type="importmap">
      {
        "imports": {
          "react": "https://aistudiocdn.com/react@^19.2.0",
          "react-dom/client": "https://aistudiocdn.com/react-dom@^19.2.0/client",
          "firebase/app": "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js",
          "firebase/firestore": "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"
        }
      }
    </script>
  </head>

  <body class="bg-slate-50 text-slate-900 antialiased font-sans">
    <div id="root"></div>

    <script type="module">
      import React from "react";
      import { createRoot } from "react-dom/client";
      import { initializeApp } from "firebase/app";
      import {
        getFirestore,
        collection,
        addDoc,
        getDocs,
        updateDoc,
        deleteDoc,
        doc,
        serverTimestamp,
        query,
        orderBy
      } from "firebase/firestore";

      // Firebase config kamu
      const firebaseConfig = {
        apiKey: "AIzaSyClChxcL4T1Rc3b8l6Zobbj6ynAQLWPGwY",
        authDomain: "dompetpintar-d50e0.firebaseapp.com",
        projectId: "dompetpintar-d50e0",
        storageBucket: "dompetpintar-d50e0.firebasestorage.app",
        messagingSenderId: "804793025772",
        appId: "1:804793025772:web:eb3ecc3f4edd030b86d1c9",
        measurementId: "G-3BV80BW6ZN"
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);
      const clientsCol = collection(db, "clients");

      function App() {
        const [activePage, setActivePage] = React.useState("dashboard"); // dashboard | clients | tanda | surat | settings
        const [clients, setClients] = React.useState([]);
        const [loading, setLoading] = React.useState(true);
        const [saving, setSaving] = React.useState(false);
        const [deletingId, setDeletingId] = React.useState(null);

        const [nama, setNama] = React.useState("");
        const [tipe, setTipe] = React.useState("PT");
        const [kontak, setKontak] = React.useState("");
        const [catatan, setCatatan] = React.useState("");
        const [editingId, setEditingId] = React.useState(null);

        const [filter, setFilter] = React.useState("");

        const [error, setError] = React.useState("");
        const [success, setSuccess] = React.useState("");

        const [selectedClientPrint, setSelectedClientPrint] = React.useState(null);
        const [printType, setPrintType] = React.useState(null); // tanda | surat | null

        async function loadClients() {
          setLoading(true);
          setError("");
          try {
            const q = query(clientsCol, orderBy("createdAt", "desc"));
            const snap = await getDocs(q);
            const data = [];
            snap.forEach((d) => data.push({ id: d.id, ...d.data() }));
            setClients(data);
          } catch (err) {
            console.error("getDocs error:", err);
            setError(
              "Gagal ambil data klien: " +
                (err.code || err.message || "cek Firestore rules.")
            );
          }
          setLoading(false);
        }

        React.useEffect(() => {
          loadClients();
        }, []);

        function resetForm() {
          setNama("");
          setTipe("PT");
          setKontak("");
          setCatatan("");
          setEditingId(null);
        }

        async function handleSubmit(e) {
          e.preventDefault();
          setError("");
          setSuccess("");

          if (!nama.trim()) {
            setError("Nama klien wajib diisi.");
            return;
          }

          setSaving(true);
          try {
            if (editingId) {
              const ref = doc(db, "clients", editingId);
              await updateDoc(ref, {
                nama,
                tipe,
                kontak,
                catatan
              });
              setSuccess("Data klien berhasil diperbarui ‚úÖ");
            } else {
              await addDoc(clientsCol, {
                nama,
                tipe,
                kontak,
                catatan,
                createdAt: serverTimestamp()
              });
              setSuccess("Data klien berhasil disimpan ‚úÖ");
            }
            resetForm();
            await loadClients();
          } catch (err) {
            console.error("save error:", err);
            setError(
              "Gagal menyimpan data klien: " +
                (err.code || err.message || "")
            );
          }
          setSaving(false);
        }

        function handleEdit(client) {
          setEditingId(client.id);
          setNama(client.nama || "");
          setTipe(client.tipe || "PT");
          setKontak(client.kontak || "");
          setCatatan(client.catatan || "");
          setActivePage("clients");
        }

        async function handleDelete(id) {
          const yakin = confirm("Yakin hapus data klien ini?");
          if (!yakin) return;
          setError("");
          setSuccess("");
          setDeletingId(id);
          try {
            const ref = doc(db, "clients", id);
            await deleteDoc(ref);
            setSuccess("Data klien berhasil dihapus üóëÔ∏è");
            await loadClients();
          } catch (err) {
            console.error("delete error:", err);
            setError(
              "Gagal menghapus data klien: " +
                (err.code || err.message || "")
            );
          }
          setDeletingId(null);
        }

        function handlePrint(type, client) {
          setSelectedClientPrint(client);
          setPrintType(type);
          setTimeout(() => {
            window.print();
            setTimeout(() => setPrintType(null), 300);
          }, 100);
        }

        const filteredClients = clients.filter((c) => {
          if (!filter.trim()) return true;
          const text =
            (c.nama || "") +
            " " +
            (c.tipe || "") +
            " " +
            (c.kontak || "") +
            " " +
            (c.catatan || "");
          return text.toLowerCase().includes(filter.toLowerCase());
        });

        const totalClients = clients.length;
        const totalPT = clients.filter((c) => c.tipe === "PT").length;
        const totalCV = clients.filter((c) => c.tipe === "CV").length;

        const latestClients = clients.slice(0, 5);

        const todayStr = new Date().toLocaleDateString("id-ID", {
          day: "2-digit",
          month: "long",
          year: "numeric"
        });

        // Sidebar item helper
        function navItem(key, label, icon) {
          const active = activePage === key;
          return React.createElement(
            "button",
            {
              type: "button",
              onClick: () => setActivePage(key),
              className:
                "w-full flex items-center gap-3 px-3 py-2 rounded-xl text-sm transition " +
                (active
                  ? "bg-primary-50 text-primary-700 font-medium"
                  : "text-slate-600 hover:bg-slate-100")
            },
            React.createElement(
              "span",
              {
                className:
                  "flex items-center justify-center h-8 w-8 rounded-lg text-xs " +
                  (active ? "bg-primary-100" : "bg-slate-100")
              },
              icon
            ),
            React.createElement("span", null, label)
          );
        }

        // DASHBOARD PAGE
        const pageDashboard = React.createElement(
          "div",
          { className: "space-y-6" },
          React.createElement(
            "h1",
            { className: "text-2xl font-bold text-slate-900" },
            "Dashboard Overview"
          ),
          React.createElement(
            "div",
            { className: "grid grid-cols-1 md:grid-cols-3 gap-4" },

            // total
            React.createElement(
              "div",
              {
                className:
                  "bg-white rounded-2xl border border-slate-100 p-4 shadow-sm flex flex-col gap-2"
              },
              React.createElement(
                "div",
                { className: "flex items-center justify-between" },
                React.createElement(
                  "p",
                  { className: "text-xs uppercase tracking-wide text-slate-500" },
                  "Total Klien"
                ),
                React.createElement(
                  "div",
                  {
                    className:
                      "h-8 w-8 rounded-xl bg-primary-50 flex items-center justify-center text-primary-600 text-sm"
                  },
                  "üë•"
                )
              ),
              React.createElement(
                "p",
                { className: "text-3xl font-semibold" },
                totalClients
              ),
              React.createElement(
                "p",
                { className: "text-xs text-emerald-600" },
                totalClients > 0 ? "Aktif" : "Belum ada klien"
              )
            ),

            // PT
            React.createElement(
              "div",
              {
                className:
                  "bg-white rounded-2xl border border-slate-100 p-4 shadow-sm flex flex-col gap-2"
              },
              React.createElement(
                "div",
                { className: "flex items-center justify-between" },
                React.createElement(
                  "p",
                  { className: "text-xs uppercase tracking-wide text-slate-500" },
                  "Badan Usaha PT"
                ),
                React.createElement(
                  "div",
                  {
                    className:
                      "h-8 w-8 rounded-xl bg-violet-50 flex items-center justify-center text-violet-600 text-sm"
                  },
                  "üè¢"
                )
              ),
              React.createElement(
                "p",
                { className: "text-3xl font-semibold" },
                totalPT
              ),
              React.createElement(
                "div",
                { className: "h-1 rounded-full bg-slate-100 overflow-hidden" },
                React.createElement("div", {
                  className: "h-1 bg-violet-400",
                  style: {
                    width:
                      totalClients === 0
                        ? "0%"
                        : Math.min(100, (totalPT / totalClients) * 100) + "%"
                  }
                })
              )
            ),

            // CV
            React.createElement(
              "div",
              {
                className:
                  "bg-white rounded-2xl border border-slate-100 p-4 shadow-sm flex flex-col gap-2"
              },
              React.createElement(
                "div",
                { className: "flex items-center justify-between" },
                React.createElement(
                  "p",
                  { className: "text-xs uppercase tracking-wide text-slate-500" },
                  "Badan Usaha CV"
                ),
                React.createElement(
                  "div",
                  {
                    className:
                      "h-8 w-8 rounded-xl bg-indigo-50 flex items-center justify-center text-indigo-600 text-sm"
                  },
                  "üì¶"
                )
              ),
              React.createElement(
                "p",
                { className: "text-3xl font-semibold" },
                totalCV
              ),
              React.createElement(
                "div",
                { className: "h-1 rounded-full bg-slate-100 overflow-hidden" },
                React.createElement("div", {
                  className: "h-1 bg-indigo-400",
                  style: {
                    width:
                      totalClients === 0
                        ? "0%"
                        : Math.min(100, (totalCV / totalClients) * 100) + "%"
                  }
                })
              )
            )
          ),

          // Latest clients table
          React.createElement(
            "div",
            { className: "bg-white rounded-2xl border border-slate-100 shadow-sm" },
            React.createElement(
              "div",
              { className: "px-4 py-3 border-b border-slate-100 flex items-center justify-between" },
              React.createElement(
                "h2",
                { className: "text-sm font-semibold" },
                "Klien Terbaru"
              ),
              React.createElement(
                "button",
                {
                  type: "button",
                  onClick: () => setActivePage("clients"),
                  className:
                    "text-xs px-3 py-1.5 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50"
                },
                "Lihat Semua"
              )
            ),
            React.createElement(
              "div",
              { className: "overflow-x-auto" },
              React.createElement(
                "table",
                { className: "min-w-full text-sm" },
                React.createElement(
                  "thead",
                  { className: "bg-slate-50 text-xs text-slate-500" },
                  React.createElement(
                    "tr",
                    null,
                    React.createElement(
                      "th",
                      { className: "text-left px-4 py-2 font-medium" },
                      "Nama"
                    ),
                    React.createElement(
                      "th",
                      { className: "text-left px-4 py-2 font-medium" },
                      "Tipe"
                    ),
                    React.createElement(
                      "th",
                      { className: "text-left px-4 py-2 font-medium" },
                      "Tanggal Input"
                    ),
                    React.createElement(
                      "th",
                      { className: "text-right px-4 py-2 font-medium" },
                      "Aksi"
                    )
                  )
                ),
                React.createElement(
                  "tbody",
                  null,
                  loading
                    ? React.createElement(
                        "tr",
                        null,
                        React.createElement(
                          "td",
                          {
                            colSpan: 4,
                            className: "px-4 py-6 text-center text-slate-500"
                          },
                          "Memuat data..."
                        )
                      )
                    : latestClients.length === 0
                    ? React.createElement(
                        "tr",
                        null,
                        React.createElement(
                          "td",
                          {
                            colSpan: 4,
                            className: "px-4 py-6 text-center text-slate-400"
                          },
                          "Belum ada data klien."
                        )
                      )
                    : latestClients.map((c) =>
                        React.createElement(
                          "tr",
                          { key: c.id, className: "border-t border-slate-100" },
                          React.createElement(
                            "td",
                            { className: "px-4 py-2" },
                            c.nama || "-"
                          ),
                          React.createElement(
                            "td",
                            { className: "px-4 py-2 text-slate-600 text-xs" },
                            c.tipe || "-"
                          ),
                          React.createElement(
                            "td",
                            { className: "px-4 py-2 text-slate-600 text-xs" },
                            c.createdAt && c.createdAt.toDate
                              ? c.createdAt
                                  .toDate()
                                  .toLocaleDateString("id-ID")
                              : "-"
                          ),
                          React.createElement(
                            "td",
                            { className: "px-4 py-2 text-right" },
                            React.createElement(
                              "button",
                              {
                                type: "button",
                                onClick: () => handleEdit(c),
                                className:
                                  "text-xs px-3 py-1.5 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50"
                              },
                              "Edit"
                            )
                          )
                        )
                      )
                )
              )
            )
          )
        );

        // DATA KLIEN PAGE
        const pageClients = React.createElement(
          "div",
          { className: "space-y-4" },
          React.createElement(
            "h1",
            { className: "text-2xl font-bold text-slate-900" },
            "Data Klien"
          ),
          React.createElement(
            "div",
            {
              className:
                "grid grid-cols-1 md:grid-cols-2 gap-6 items-start"
            },
            // form
            React.createElement(
              "div",
              {
                className:
                  "bg-white rounded-2xl shadow-sm border border-slate-100 p-5"
              },
              React.createElement(
                "div",
                { className: "flex items-center justify-between mb-3" },
                React.createElement(
                  "h2",
                  { className: "text-lg font-semibold" },
                  editingId ? "Edit Klien" : "Tambah Klien"
                ),
                editingId &&
                  React.createElement(
                    "button",
                    {
                      type: "button",
                      onClick: () => {
                        resetForm();
                        setSuccess("");
                        setError("");
                      },
                      className:
                        "text-xs px-3 py-1 rounded-full border border-slate-200 text-slate-500 hover:bg-slate-50"
                    },
                    "Batal Edit"
                  )
              ),
              React.createElement(
                "form",
                { className: "space-y-3", onSubmit: handleSubmit },
                React.createElement(
                  "div",
                  { className: "space-y-1" },
                  React.createElement(
                    "label",
                    { className: "text-sm font-medium text-slate-700" },
                    "Nama Klien"
                  ),
                  React.createElement("input", {
                    className:
                      "w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",
                    value: nama,
                    onChange: (e) => setNama(e.target.value),
                    placeholder: "Contoh: PT Maju Mundur Sejahtera"
                  })
                ),
                React.createElement(
                  "div",
                  { className: "space-y-1" },
                  React.createElement(
                    "label",
                    { className: "text-sm font-medium text-slate-700" },
                    "Tipe Klien"
                  ),
                  React.createElement(
                    "select",
                    {
                      className:
                        "w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",
                      value: tipe,
                      onChange: (e) => setTipe(e.target.value)
                    },
                    React.createElement("option", { value: "PT" }, "PT"),
                    React.createElement("option", { value: "CV" }, "CV"),
                    React.createElement(
                      "option",
                      { value: "Perorangan" },
                      "Perorangan"
                    )
                  )
                ),
                React.createElement(
                  "div",
                  { className: "space-y-1" },
                  React.createElement(
                    "label",
                    { className: "text-sm font-medium text-slate-700" },
                    "Kontak (opsional)"
                  ),
                  React.createElement("input", {
                    className:
                      "w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",
                    value: kontak,
                    onChange: (e) => setKontak(e.target.value),
                    placeholder: "No HP / email"
                  })
                ),
                React.createElement(
                  "div",
                  { className: "space-y-1" },
                  React.createElement(
                    "label",
                    { className: "text-sm font-medium text-slate-700" },
                    "Catatan (opsional)"
                  ),
                  React.createElement("textarea", {
                    className:
                      "w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",
                    rows: 3,
                    value: catatan,
                    onChange: (e) => setCatatan(e.target.value),
                    placeholder: "Jenis berkas / keterangan tambahan"
                  })
                ),
                React.createElement(
                  "button",
                  {
                    type: "submit",
                    disabled: saving,
                    className:
                      "w-full rounded-lg bg-primary-600 text-white text-sm font-medium px-4 py-2 mt-1 hover:bg-primary-700 disabled:opacity-60"
                  },
                  saving
                    ? editingId
                      ? "Menyimpan Perubahan..."
                      : "Menyimpan..."
                    : editingId
                    ? "Update Klien"
                    : "Simpan Klien"
                )
              )
            ),
            // list
            React.createElement(
              "div",
              {
                className:
                  "bg-white rounded-2xl shadow-sm border border-slate-100 p-5 flex flex-col gap-3"
              },
              React.createElement(
                "div",
                {
                  className:
                    "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"
                },
                React.createElement(
                  "div",
                  null,
                  React.createElement(
                    "h2",
                    { className: "text-lg font-semibold" },
                    "Daftar Klien"
                  ),
                  React.createElement(
                    "p",
                    { className: "text-xs text-slate-500" },
                    "Klik nama untuk edit, tombol kanan untuk cetak / hapus."
                  )
                ),
                React.createElement(
                  "div",
                  { className: "flex gap-2" },
                  React.createElement("input", {
                    className:
                      "flex-1 rounded-lg border border-slate-200 px-3 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",
                    placeholder: "Cari nama / tipe / kontak",
                    value: filter,
                    onChange: (e) => setFilter(e.target.value)
                  }),
                  React.createElement(
                    "button",
                    {
                      type: "button",
                      onClick: loadClients,
                      className:
                        "text-xs px-3 py-1.5 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50 whitespace-nowrap"
                    },
                    "Refresh"
                  )
                )
              ),
              loading
                ? React.createElement(
                    "p",
                    { className: "text-sm text-slate-500" },
                    "Memuat data..."
                  )
                : filteredClients.length === 0
                ? React.createElement(
                    "p",
                    { className: "text-sm text-slate-500" },
                    "Tidak ada data klien."
                  )
                : React.createElement(
                    "ul",
                    { className: "space-y-2 max-h-80 overflow-auto pr-1" },
                    filteredClients.map((c) =>
                      React.createElement(
                        "li",
                        {
                          key: c.id,
                          className:
                            "border border-slate-100 rounded-lg px-3 py-2 text-sm flex flex-col gap-1"
                        },
                        React.createElement(
                          "div",
                          {
                            className:
                              "flex items-start justify-between gap-2"
                          },
                          React.createElement(
                            "button",
                            {
                              type: "button",
                              onClick: () => handleEdit(c),
                              className:
                                "flex-1 text-left hover:text-primary-700"
                            },
                            React.createElement(
                              "div",
                              { className: "font-medium text-slate-800" },
                              c.nama || "-"
                            ),
                            React.createElement(
                              "div",
                              { className: "text-[11px] text-slate-500" },
                              c.tipe || "-"
                            ),
                            c.kontak &&
                              React.createElement(
                                "div",
                                {
                                  className:
                                    "text-[11px] text-slate-500 mt-0.5"
                                },
                                c.kontak
                              ),
                            c.catatan &&
                              React.createElement(
                                "div",
                                {
                                  className:
                                    "text-[11px] text-slate-400 mt-0.5"
                                },
                                c.catatan
                              )
                          ),
                          React.createElement(
                            "div",
                            {
                              className:
                                "flex flex-col items-end gap-1 text-[11px]"
                            },
                            React.createElement(
                              "button",
                              {
                                type: "button",
                                onClick: () => handlePrint("tanda", c),
                                className:
                                  "px-2 py-1 rounded-md border border-slate-200 text-slate-600 hover:bg-slate-50"
                              },
                              "Tanda Terima"
                            ),
                            React.createElement(
                              "button",
                              {
                                type: "button",
                                onClick: () => handlePrint("surat", c),
                                className:
                                  "px-2 py-1 rounded-md border border-slate-200 text-slate-600 hover:bg-slate-50"
                              },
                              "Surat Jalan"
                            ),
                            React.createElement(
                              "button",
                              {
                                type: "button",
                                onClick: () => handleDelete(c.id),
                                disabled: deletingId === c.id,
                                className:
                                  "px-2 py-1 rounded-md border border-red-200 text-red-600 hover:bg-red-50 disabled:opacity-60"
                              },
                              deletingId === c.id ? "Hapus..." : "Hapus"
                            )
                          )
                        )
                      )
                    )
                  )
            )
          )
        );

        // TANDA TERIMA PAGE
        const pageTanda = React.createElement(
          "div",
          { className: "space-y-4" },
          React.createElement(
            "h1",
            { className: "text-2xl font-bold text-slate-900" },
            "Tanda Terima Berkas"
          ),
          React.createElement(
            "div",
            { className: "bg-white rounded-2xl border border-slate-100 shadow-sm p-5 max-w-xl" },
            React.createElement(
              "p",
              { className: "text-sm text-slate-600 mb-3" },
              "Pilih klien, lalu cetak tanda terima berkas."
            ),
            React.createElement(
              "div",
              { className: "space-y-3" },
              React.createElement(
                "div",
                { className: "space-y-1" },
                React.createElement(
                  "label",
                  { className: "text-sm font-medium text-slate-700" },
                  "Pilih Klien"
                ),
                React.createElement(
                  "select",
                  {
                    className:
                      "w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",
                    value: selectedClientPrint ? selectedClientPrint.id : "",
                    onChange: (e) => {
                      const id = e.target.value;
                      const found = clients.find((c) => c.id === id) || null;
                      setSelectedClientPrint(found);
                    }
                  },
                  React.createElement(
                    "option",
                    { value: "" },
                    "Pilih salah satu klien"
                  ),
                  clients.map((c) =>
                    React.createElement(
                      "option",
                      { key: c.id, value: c.id },
                      c.nama || "-"
                    )
                  )
                )
              ),
              React.createElement(
                "button",
                {
                  type: "button",
                  disabled: !selectedClientPrint,
                  onClick: () =>
                    selectedClientPrint && handlePrint("tanda", selectedClientPrint),
                  className:
                    "w-full rounded-lg bg-primary-600 text-white text-sm font-medium px-4 py-2 mt-2 hover:bg-primary-700 disabled:opacity-60"
                },
                "Cetak Tanda Terima"
              )
            )
          )
        );

        // SURAT JALAN PAGE
        const pageSurat = React.createElement(
          "div",
          { className: "space-y-4" },
          React.createElement(
            "h1",
            { className: "text-2xl font-bold text-slate-900" },
            "Surat Jalan Berkas"
          ),
          React.createElement(
            "div",
            { className: "bg-white rounded-2xl border border-slate-100 shadow-sm p-5 max-w-xl" },
            React.createElement(
              "p",
              { className: "text-sm text-slate-600 mb-3" },
              "Pilih klien, lalu cetak surat jalan berkas."
            ),
            React.createElement(
              "div",
              { className: "space-y-3" },
              React.createElement(
                "div",
                { className: "space-y-1" },
                React.createElement(
                  "label",
                  { className: "text-sm font-medium text-slate-700" },
                  "Pilih Klien"
                ),
                React.createElement(
                  "select",
                  {
                    className:
                      "w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",
                    value: selectedClientPrint ? selectedClientPrint.id : "",
                    onChange: (e) => {
                      const id = e.target.value;
                      const found = clients.find((c) => c.id === id) || null;
                      setSelectedClientPrint(found);
                    }
                  },
                  React.createElement(
                    "option",
                    { value: "" },
                    "Pilih salah satu klien"
                  ),
                  clients.map((c) =>
                    React.createElement(
                      "option",
                      { key: c.id, value: c.id },
                      c.nama || "-"
                    )
                  )
                )
              ),
              React.createElement(
                "button",
                {
                  type: "button",
                  disabled: !selectedClientPrint,
                  onClick: () =>
                    selectedClientPrint && handlePrint("surat", selectedClientPrint),
                  className:
                    "w-full rounded-lg bg-primary-600 text-white text-sm font-medium px-4 py-2 mt-2 hover:bg-primary-700 disabled:opacity-60"
                },
                "Cetak Surat Jalan"
              )
            )
          )
        );

        // SETTINGS PAGE (dummy dulu)
        const pageSettings = React.createElement(
          "div",
          { className: "space-y-4" },
          React.createElement(
            "h1",
            { className: "text-2xl font-bold text-slate-900" },
            "Pengaturan"
          ),
          React.createElement(
            "div",
            { className: "bg-white rounded-2xl border border-slate-100 shadow-sm p-5 max-w-xl" },
            React.createElement(
              "p",
              { className: "text-sm text-slate-600" },
              "Area ini bisa dipakai untuk pengaturan nama sistem, logo, atau template tanda terima & surat jalan di versi berikutnya."
            ),
            React.createElement(
              "p",
              { className: "mt-4 text-xs text-slate-400" },
              "Versi Sistem: v1.0.0 Enterprise"
            )
          )
        );

        let pageContent = pageDashboard;
        if (activePage === "clients") pageContent = pageClients;
        if (activePage === "tanda") pageContent = pageTanda;
        if (activePage === "surat") pageContent = pageSurat;
        if (activePage === "settings") pageContent = pageSettings;

        // PRINT UI
        let titlePrint = "";
        if (printType === "tanda") titlePrint = "TANDA TERIMA BERKAS";
        if (printType === "surat") titlePrint = "SURAT JALAN BERKAS";

        const printUi =
          printType && selectedClientPrint
            ? React.createElement(
                "div",
                { className: "print-only min-h-screen flex justify-center px-4 py-6" },
                React.createElement(
                  "div",
                  { className: "w-full max-w-2xl text-slate-900" },
                  React.createElement(
                    "div",
                    { className: "text-center mb-6" },
                    React.createElement(
                      "h1",
                      {
                        className:
                          "text-xl font-bold tracking-wide border-b pb-2 mb-2"
                      },
                      titlePrint
                    ),
                    React.createElement(
                      "p",
                      { className: "text-xs" },
                      "Tanggal cetak: ",
                      todayStr
                    )
                  ),
                  React.createElement(
                    "table",
                    { className: "w-full text-sm mb-4" },
                    React.createElement(
                      "tbody",
                      null,
                      React.createElement(
                        "tr",
                        null,
                        React.createElement(
                          "td",
                          { className: "w-32 align-top pb-1" },
                          "Nama Klien"
                        ),
                        React.createElement(
                          "td",
                          { className: "align-top pb-1" },
                          ": ",
                          selectedClientPrint.nama || "-"
                        )
                      ),
                      React.createElement(
                        "tr",
                        null,
                        React.createElement(
                          "td",
                          { className: "align-top pb-1" },
                          "Tipe"
                        ),
                        React.createElement(
                          "td",
                          { className: "align-top pb-1" },
                          ": ",
                          selectedClientPrint.tipe || "-"
                        )
                      ),
                      React.createElement(
                        "tr",
                        null,
                        React.createElement(
                          "td",
                          { className: "align-top pb-1" },
                          "Kontak"
                        ),
                        React.createElement(
                          "td",
                          { className: "align-top pb-1" },
                          ": ",
                          selectedClientPrint.kontak || "-"
                        )
                      ),
                      React.createElement(
                        "tr",
                        null,
                        React.createElement(
                          "td",
                          { className: "align-top pb-1" },
                          "Catatan"
                        ),
                        React.createElement(
                          "td",
                          { className: "align-top pb-1" },
                          ": ",
                          selectedClientPrint.catatan || "-"
                        )
                      )
                    )
                  ),
                  React.createElement(
                    "p",
                    { className: "text-sm mb-6" },
                    printType === "tanda"
                      ? "Dengan ini kami menyatakan telah menerima berkas dari klien dengan data sebagaimana tercantum di atas untuk diproses lebih lanjut."
                      : "Dengan ini kami menyatakan telah menyerahkan / mengirimkan berkas kepada klien dengan data sebagaimana tercantum di atas."
                  ),
                  React.createElement(
                    "div",
                    {
                      className:
                        "flex justify-between text-sm mt-8 pt-8 border-t"
                    },
                    React.createElement(
                      "div",
                      { className: "w-1/2 pr-4" },
                      React.createElement("p", null, "Pihak Klien,"),
                      React.createElement("div", { className: "h-12" }),
                      React.createElement(
                        "p",
                        {
                          className:
                            "border-t border-slate-400 inline-block px-4 pt-1"
                        },
                        selectedClientPrint.nama || "________________"
                      )
                    ),
                    React.createElement(
                      "div",
                      { className: "w-1/2 pl-4 text-right" },
                      React.createElement("p", null, "Petugas,"),
                      React.createElement("div", { className: "h-12" }),
                      React.createElement(
                        "p",
                        {
                          className:
                            "border-t border-slate-400 inline-block px-4 pt-1"
                        },
                        "________________"
                      )
                    )
                  )
                )
              )
            : React.createElement("div", { className: "print-only" });

        // MAIN LAYOUT (NO PRINT)
        const mainUi = React.createElement(
          "div",
          { className: "no-print min-h-screen flex" },
          // sidebar
          React.createElement(
            "aside",
            {
              className:
                "hidden md:flex md:w-64 flex-col border-r border-slate-100 bg-white"
            },
            React.createElement(
              "div",
              { className: "px-5 py-4 border-b border-slate-100 flex items-center gap-2" },
              React.createElement(
                "div",
                {
                  className:
                    "h-9 w-9 rounded-2xl bg-primary-600 text-white flex items-center justify-center text-lg font-bold"
                },
                "P"
              ),
              React.createElement(
                "div",
                null,
                React.createElement(
                  "p",
                  { className: "text-sm font-semibold" },
                  "ProFile",
                  React.createElement(
                    "span",
                    { className: "text-primary-600" },
                    "Manager"
                  )
                ),
                React.createElement(
                  "p",
                  { className: "text-[11px] text-slate-500" },
                  "Client & Document Control"
                )
              )
            ),
            React.createElement(
              "nav",
              { className: "flex-1 px-3 py-4 space-y-1" },
              navItem("dashboard", "Dashboard", "‚ñ¶"),
              navItem("clients", "Data Klien", "üë§"),
              navItem("tanda", "Tanda Terima", "üßæ"),
              navItem("surat", "Surat Jalan", "üöö"),
              navItem("settings", "Pengaturan", "‚öôÔ∏è")
            ),
            React.createElement(
              "div",
              { className: "px-4 py-4 border-t border-slate-100 text-xs text-slate-400" },
              React.createElement("p", null, "Versi Sistem"),
              React.createElement(
                "p",
                { className: "font-medium text-slate-600" },
                "v1.0.0 Enterprise"
              )
            )
          ),
          // main content
          React.createElement(
            "main",
            { className: "flex-1 min-w-0" },
            React.createElement(
              "div",
              { className: "max-w-6xl mx-auto px-4 py-6 space-y-3" },
              (error || success) &&
                React.createElement(
                  "div",
                  { className: "space-y-2" },
                  error &&
                    React.createElement(
                      "div",
                      {
                        className:
                          "rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700"
                      },
                      error
                    ),
                  success &&
                    React.createElement(
                      "div",
                      {
                        className:
                          "rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-2 text-sm text-emerald-700"
                      },
                      success
                    )
                ),
              pageContent
            )
          )
        );

        return React.createElement(
          "div",
          null,
          mainUi,
          printUi
        );
      }

      const root = createRoot(document.getElementById("root"));
      root.render(React.createElement(App));
    </script>
  </body>
</html>
